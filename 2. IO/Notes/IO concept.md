р╣Бр╕Щр╕зр╕Др╕┤р╕Фр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕З I/O (Core Concepts of I/O)

### ЁЯОп р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣Мр╕Вр╕нр╕Зр╕Ър╕Чр╣Ар╕гр╕╡р╕вр╕Щр╕Чр╕╡р╣И 1

- р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Бр╕▓р╕гр╕зр╕▒р╕Фр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю I/O р╕Фр╣Йр╕зр╕в IOPS, Throughput, р╣Бр╕ер╕░ Latency
- р╣Бр╕вр╕Бр╣Бр╕вр╕░р╕Др╕зр╕▓р╕бр╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З Magnetic Disk р╣Бр╕ер╕░ SSD
- р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕гр╕░р╕Фр╕▒р╕Ъ RAID р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Бр╕▒р╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ыр╣Бр╕ер╕░р╕Вр╣Йр╕нр╕Фр╕╡-р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕вр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕гр╕░р╕Фр╕▒р╕Ъ

### 1.1 р╕Бр╕▓р╕гр╕зр╕▒р╕Фр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю I/O р╕Фр╣Йр╕зр╕в IOPS

#### ЁЯФН р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕вр╕Вр╕нр╕З IOPS

**IOPS (Input/Output Operations Per Second)** р╕Др╕╖р╕нр╕Ир╕│р╕Щр╕зр╕Щр╕Бр╕▓р╕гр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г I/O р╕Чр╕╡р╣Ир╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Чр╕│р╣Др╕Фр╣Йр╣Гр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╕зр╕┤р╕Щр╕▓р╕Чр╕╡

#### ЁЯУИ р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕З IOPS

| р╕Ыр╕гр╕░р╣Ар╕ар╕Ч | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в | р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ |
|--------|-----------|-------------------|
| **Total IOPS** | р╕Ир╕│р╕Щр╕зр╕Щр╕Бр╕▓р╕гр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г I/O р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Хр╣Ир╕нр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ | р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╣Вр╕Фр╕вр╕гр╕зр╕б |
| **Random Read IOPS** | р╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╕кр╕╕р╣Ир╕бр╕Хр╣Ир╕нр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ | р╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ OLTP |
| **Random Write IOPS** | р╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╕кр╕╕р╣Ир╕бр╕Хр╣Ир╕нр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ | р╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ OLTP |
| **Sequential Read IOPS** | р╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Хр╣Ир╕нр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ | р╕Бр╕▓р╕гр╕кр╣Бр╕Бр╕Щр╕Хр╕▓р╕гр╕▓р╕Зр╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И |
| **Sequential Write IOPS** | р╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Хр╣Ир╕нр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ | р╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щ Transaction Log |

#### ЁЯУК Performance Counters р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕▒р╕Ф IOPS

```powershell
# р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З PowerShell commands р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ IOPS
Get-Counter "\PhysicalDisk(*)\Disk Reads/sec"
Get-Counter "\PhysicalDisk(*)\Disk Writes/sec"
Get-Counter "\LogicalDisk(*)\Disk Reads/sec"
Get-Counter "\LogicalDisk(*)\Disk Writes/sec"
```

#### ЁЯТб р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕вр╕╕р╕Бр╕Хр╣Мр╣Гр╕Кр╣Й

**р╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣М**: р╕гр╕░р╕Ър╕Ъ OLTP р╕Чр╕╡р╣Ир╕бр╕╡р╕Бр╕▓р╕г query р╕Ър╣Ир╕нр╕в
- **Random Read IOPS** р╕кр╕╣р╕З = р╕гр╕░р╕Ър╕Ър╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕гр╣Зр╕зр╣Гр╕Щр╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕е
- **Random Write IOPS** р╕кр╕╣р╕З = р╕гр╕░р╕Ър╕Ър╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Фр╣Йр╕бр╕▓р╕Б

### 1.2 р╕Бр╕▓р╕гр╕зр╕▒р╕Фр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Фр╣Йр╕зр╕в Throughput

#### ЁЯФН р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕вр╕Вр╕нр╕З Throughput

**Throughput** р╕Др╕╖р╕нр╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Цр╣Ир╕▓р╕вр╣Вр╕нр╕Щр╣Др╕Фр╣Йр╣Гр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ (р╕зр╕▒р╕Фр╣Ар╕Ыр╣Зр╕Щ MB/s р╕лр╕гр╕╖р╕н GB/s)

#### ЁЯУИ р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕З Throughput

| р╕Ыр╕гр╕░р╣Ар╕ар╕Ч | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в | р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ |
|--------|-----------|----------|
| **Burst Throughput** | р╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕Бр╕▓р╕гр╕Цр╣Ир╕▓р╕вр╣Вр╕нр╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╣Гр╕Щр╕кр╕ар╕▓р╕зр╕░р╣Ар╕лр╕бр╕▓р╕░р╕кр╕б | р╕Бр╕▓р╕гр╕Цр╣Ир╕▓р╕вр╣Вр╕нр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Бр╕Ир╕▓р╕Б cache |
| **Sustained Throughput** | р╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕Бр╕▓р╕гр╕Цр╣Ир╕▓р╕вр╣Вр╕нр╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И | р╕Бр╕▓р╕гр╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е, р╕Бр╕▓р╕г restore |

#### ЁЯУК Performance Counters р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕▒р╕Ф Throughput

```powershell
# р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З PowerShell commands р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Throughput
Get-Counter "\PhysicalDisk(*)\Disk Read Bytes/sec"
Get-Counter "\PhysicalDisk(*)\Disk Write Bytes/sec"
Get-Counter "\PhysicalDisk(*)\Disk Bytes/sec"
```

#### ЁЯТб р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕вр╕╕р╕Бр╕Хр╣Мр╣Гр╕Кр╣Й

**р╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣М**: р╕Бр╕▓р╕гр╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И
- **Sustained Throughput** р╕кр╕╣р╕З = р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▒р╣Йр╕Щр╕ер╕З
- р╕Др╕зр╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓ **Sustained** р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ **Burst** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕зр╕▓р╕Зр╣Бр╕Ьр╕Щр╕гр╕░р╕вр╕░р╕вр╕▓р╕з

### 1.3 р╕Бр╕▓р╕гр╕зр╕▒р╕Фр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Фр╣Йр╕зр╕в Latency Factor

#### ЁЯФН р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕вр╕Вр╕нр╕З Latency

**Latency Factor** р╕Др╕╖р╕нр╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Ьр╣Ир╕▓р╕Щр╣Др╕Ыр╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Др╕│р╕Вр╕н I/O р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Ир╕▓р╕Бр╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е (р╕зр╕▒р╕Фр╣Ар╕Ыр╣Зр╕Щ milliseconds)

#### ЁЯУК Performance Counters р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕▒р╕Ф Latency

```powershell
# р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З PowerShell commands р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Latency
Get-Counter "\PhysicalDisk(*)\Avg. Disk sec/Read"
Get-Counter "\PhysicalDisk(*)\Avg. Disk sec/Write"
```

#### ЁЯОп р╣Бр╕Щр╕зр╕Чр╕▓р╕З Microsoft р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╣Ир╕▓ Latency р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

| р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М SQL Server | р╕Др╣Ир╕▓ Latency р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в |
|----------------------|----------------------|----------|
| **Log Files** | 1-5 ms (р╣Ар╕лр╕бр╕▓р╕░р╕кр╕б 1 ms) | р╕кр╕│р╕Др╕▒р╕Нр╕бр╕▓р╕Бр╣Ар╕Юр╕гр╕▓р╕░р╣Ар╕Ыр╣Зр╕Щ sequential writes |
| **OLTP Data Files** | 4-20 ms (р╣Ар╕лр╕бр╕▓р╕░р╕кр╕б тЙд10 ms) | р╕бр╕╡р╕Ьр╕ер╕Хр╣Ир╕н response time р╕Вр╕нр╕З user |
| **DSS/OLAP Data Files** | тЙд30 ms | р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Бр╕Бр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И |

#### тЪая╕П р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕кр╕│р╕Др╕▒р╕Н
р╕Др╣Ир╕▓р╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╣Ар╕Юр╕╡р╕вр╕Зр╣Бр╕Щр╕зр╕Чр╕▓р╕З р╕нр╕Зр╕Др╣Мр╕Бр╕гр╕Хр╣Йр╕нр╕Зр╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕Бр╕Ур╕Ср╣Мр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Чр╕╡р╣Ир╕вр╕нр╕бр╕гр╕▒р╕Ър╣Др╕Фр╣Йр╣Ар╕нр╕З

### 1.4 р╕Др╕зр╕▓р╕бр╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З Magnetic Disk р╣Бр╕ер╕░ SSD

#### ЁЯФД Magnetic Disk (Hard Disk Drive - HDD)

**р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З:**
- р╕Ир╕▓р╕Щр╣Вр╕ер╕лр╕░р╣Ар╕Др╕ер╕╖р╕нр╕Ър╕нр╕нр╕Бр╣Др╕Лр╕Фр╣Мр╣Бр╕бр╣Ир╣Ар╕лр╕ер╣Зр╕Б (platters)
- р╕лр╕▒р╕зр╕нр╣Ир╕▓р╕Щ/р╣Ар╕Вр╕╡р╕вр╕Щр╣Бр╕бр╣Ир╣Ар╕лр╕ер╣Зр╕Б (read/write heads)
- р╕бр╕нр╣Ар╕Хр╕нр╕гр╣Мр╕Вр╕▒р╕Ър╕Ир╕▓р╕Щр╕лр╕бр╕╕р╕Щ (spindle motor)

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕Хр╣Ир╕н GB р╕Хр╣Ир╕│
- тЬЕ р╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡р╕Чр╕╡р╣Ир╕Юр╕┤р╕кр╕╣р╕Ир╕Щр╣Мр╣Бр╕ер╣Йр╕з
- тЬЕ р╕Др╕зр╕▓р╕бр╕Ир╕╕р╕кр╕╣р╕З
- тЬЕ р╕лр╕▓р╕Лр╕╖р╣Йр╕нр╕Зр╣Ир╕▓р╕в

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╕бр╕╡р╕Кр╕┤р╣Йр╕Щр╕кр╣Ир╕зр╕Щр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕Чр╕╡р╣И (р╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕Хр╣Ир╕нр╕Бр╕▓р╕гр╣Ар╕кр╕╡р╕вр╕лр╕▓р╕в)
- тЭМ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓ SSD
- тЭМ р╣Гр╕Кр╣Йр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕бр╕▓р╕Б
- тЭМ р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕гр╕Ър╕Бр╕зр╕Щ

#### тЪб Solid State Drive (SSD)

**р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З:**
- р╕зр╕Зр╕Ир╕гр╕гр╕зр╕б (integrated circuits)
- Flash memory chips
- Controller chip

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╣Др╕бр╣Ир╕бр╕╡р╕Кр╕┤р╣Йр╕Щр╕кр╣Ир╕зр╕Щр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╕Чр╕╡р╣И
- тЬЕ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕кр╕╣р╕Зр╣Гр╕Щр╕Чр╕╕р╕Бр╕Фр╣Йр╕▓р╕Щ (IOPS, Throughput, Latency)
- тЬЕ р╣Гр╕Кр╣Йр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕Щр╣Йр╕нр╕в
- тЬЕ р╕Чр╕│р╕Зр╕▓р╕Щр╣Ар╕Зр╕╡р╕вр╕Ъ
- тЬЕ р╕Чр╕Щр╕Чр╕▓р╕Щр╕Хр╣Ир╕нр╕Бр╕▓р╕гр╕кр╕▒р╣Ир╕Щр╕кр╕░р╣Ар╕Чр╕╖р╕нр╕Щ

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕Хр╣Ир╕н GB р╕кр╕╣р╕З
- тЭМ р╕нр╕▓р╕вр╕╕р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕│р╕Бр╕▒р╕Фр╕Фр╣Йр╕зр╕вр╕Ир╕│р╕Щр╕зр╕Щр╕гр╕нр╕Ър╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щ/р╣Ар╕Вр╕╡р╕вр╕Щ
- тЭМ р╕Бр╕▓р╕гр╕Бр╕╣р╣Йр╕Др╕╖р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕вр╕▓р╕Бр╕Бр╕зр╣Ир╕▓р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕кр╕╡р╕вр╕лр╕▓р╕в

#### ЁЯУК р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

| р╕Хр╕▒р╕зр╕Кр╕╡р╣Йр╕зр╕▒р╕Ф | HDD (7200 RPM) | HDD (15000 RPM) | SATA SSD | NVMe SSD |
|----------|----------------|-----------------|----------|-----------|
| **Random Read IOPS** | 75-100 | 175-210 | 10,000+ | 100,000+ |
| **Sequential Read** | 80-160 MB/s | 200+ MB/s | 500+ MB/s | 3,000+ MB/s |
| **Latency** | 12-20 ms | 4-8 ms | 0.1-0.3 ms | 0.05-0.1 ms |

### 1.5 р╕гр╕░р╕Фр╕▒р╕Ъ RAID р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Бр╕▒р╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ы

#### ЁЯФД RAID 0 (Disk Striping)

**р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
- р╣Бр╕Ър╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Бр╣Зр╕Ър╣Гр╕Щр╕лр╕ер╕▓р╕вр╕Фр╕┤р╕кр╕Бр╣М
- р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕кр╕╣р╕Зр╕кр╕╕р╕Ф (р╕Чр╕▒р╣Йр╕Зр╕нр╣Ир╕▓р╕Щр╣Бр╕ер╕░р╣Ар╕Вр╕╡р╕вр╕Щ)
- тЬЕ р╣Гр╕Кр╣Йр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣И 100%
- тЬЕ р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕Хр╣Ир╕│

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- тЭМ р╕Фр╕┤р╕кр╕Бр╣Мр╣Ар╕кр╕╡р╕вр╕лр╕Щр╕╢р╣Ир╕Зр╕Хр╕▒р╕з = р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕▓р╕вр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

**р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
- р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ tempdb
- р╣Др╕бр╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Н

#### ЁЯФД RAID 1 (Disk Mirroring)

**р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
- р╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Ыр╣Зр╕Щр╕кр╕│р╣Ар╕Щр╕▓р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Щ 100%
- р╣Гр╕Кр╣Йр╕Фр╕┤р╕кр╕Бр╣М 2 р╕Хр╕▒р╕зр╕Вр╕╢р╣Йр╕Щр╣Др╕Ы

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕╣р╕Зр╕кр╕╕р╕Ф
- тЬЕ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Фр╕╡
- тЬЕ р╣Ар╕зр╕ер╕▓ rebuild р╣Ар╕гр╣Зр╕з

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╣Гр╕Кр╣Йр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Ар╕Юр╕╡р╕вр╕З 50%
- тЭМ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╕нр╕▓р╕Ир╕ер╕Фр╕ер╕З
- тЭМ р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕кр╕╣р╕З

**р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
- р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ transaction log files
- р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Нр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕кр╕╣р╕З

#### ЁЯФД RAID 5 (Disk Striping with Parity)

**р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
- р╣Бр╕Ър╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░ parity р╣Гр╕Щр╕лр╕ер╕▓р╕вр╕Фр╕┤р╕кр╕Бр╣М
- р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Йр╕Фр╕┤р╕кр╕Бр╣Мр╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 3 р╕Хр╕▒р╕з

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Фр╕╡
- тЬЕ р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Фр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣И (р╣Ар╕кр╕╡р╕вр╣Ар╕Юр╕╡р╕вр╕З 1 р╕Фр╕┤р╕кр╕Бр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ъ parity)
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕кр╕╡р╕вр╕Вр╕нр╕Зр╕Фр╕┤р╕кр╕Бр╣М 1 р╕Хр╕▒р╕з

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╕Кр╣Йр╕▓ (р╕Хр╣Йр╕нр╕Зр╕Др╕│р╕Щр╕зр╕У parity)
- тЭМ р╣Ар╕зр╕ер╕▓ rebuild р╕Щр╕▓р╕Щ
- тЭМ р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕кр╕╡р╕вр╕Вр╕нр╕Зр╕Фр╕┤р╕кр╕Бр╣М 2 р╕Хр╕▒р╕зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ

**р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
- р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ data files р╕Чр╕╡р╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓р╣Ар╕Вр╕╡р╕вр╕Щ
- р╣Др╕бр╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ transaction log

#### ЁЯФД RAID 10 (Mirroring + Striping)

**р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
- р╕гр╕зр╕б RAID 1 р╣Бр╕ер╕░ RAID 0
- Mirror р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕в Stripe

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- тЬЕ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕кр╕╣р╕Зр╕кр╕╕р╕Ф (р╕Чр╕▒р╣Йр╕Зр╕нр╣Ир╕▓р╕Щр╣Бр╕ер╕░р╣Ар╕Вр╕╡р╕вр╕Щ)
- тЬЕ р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Фр╕╡
- тЬЕ р╣Ар╕зр╕ер╕▓ rebuild р╣Ар╕гр╣Зр╕з
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕кр╕╡р╕вр╕Вр╕нр╕Зр╕Фр╕┤р╕кр╕Бр╣Мр╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з (р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╣Гр╕Щ mirror set р╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ)

**р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- тЭМ р╣Гр╕Кр╣Йр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Ар╕Юр╕╡р╕вр╕З 50%
- тЭМ р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Ф

**р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
- р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ production databases р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕╣р╕Зр╕кр╕╕р╕Ф

#### ЁЯУК р╕кр╕гр╕╕р╕Ыр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ RAID

| RAID | р╕Фр╕┤р╕кр╕Бр╣Мр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│ | р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ | р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕нр╣Ир╕▓р╕Щ | р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╣Ар╕Вр╕╡р╕вр╕Щ | р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в | р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щ |
|------|-------------|--------------|-----------------|------------------|-------------|--------|
| **RAID 0** | 2 | 100% | р╣Ар╕вр╕╡р╣Ир╕вр╕б | р╣Ар╕вр╕╡р╣Ир╕вр╕б | р╣Др╕бр╣Ир╕бр╕╡ | р╕Хр╣Ир╕│ |
| **RAID 1** | 2 | 50% | р╕Фр╕╡ | р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З | р╕Фр╕╡р╕бр╕▓р╕Б | р╕кр╕╣р╕З |
| **RAID 5** | 3 | 67-90% | р╕Фр╕╡ | р╣Бр╕вр╣И | р╕Фр╕╡ | р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З |
| **RAID 10** | 4 | 50% | р╣Ар╕вр╕╡р╣Ир╕вр╕б | р╣Ар╕вр╕╡р╣Ир╕вр╕б | р╕Фр╕╡р╕бр╕▓р╕Б | р╕кр╕╣р╕Зр╕кр╕╕р╕Ф |
